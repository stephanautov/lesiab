(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[201],{2469:(e,t,a)=>{Promise.resolve().then(a.bind(a,6891))},4908:(e,t,a)=>{"use strict";a.d(t,{F:()=>c,x:()=>d});var s=a(9835),l=a(5931),r=a(9668),i=a(1129),n=a(6262);a(9088);let c=(0,r.pY)();function d(e){let{children:t}=e,a=(0,n.jE)(),[d]=l.useState(()=>c.createClient({links:[(0,r.fu)({url:"".concat("","/api/trpc"),transformer:i.Ay})]}));return(0,s.jsx)(c.Provider,{client:d,queryClient:a,children:t})}},6891:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var s=a(9835),l=a(5931),r=a(5841),i=a(4908);async function n(e,t){let a=await fetch(e,{method:"PUT",headers:{"content-type":t.type||"application/octet-stream"},body:t});if(!a.ok){let e=await a.text().catch(()=>"");throw Error("Upload failed (".concat(a.status,"): ").concat(e))}return!0}let c=1;function d(){let{push:e,element:t}=function(){let[e,t]=l.useState([]);return{push:e=>t(t=>[...t,{id:c++,text:e}]),element:(0,s.jsx)("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:e.map(e=>(0,s.jsx)("div",{className:"rounded bg-black px-3 py-2 text-white shadow",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"text-sm",children:e.text}),(0,s.jsx)("button",{onClick:()=>{let a;return a=e.id,t(e=>e.filter(e=>e.id!==a))},className:"text-xs underline",children:"Dismiss"})]})},e.id))})}}(),a=i.F.uploads.createUrl.useMutation(),d=l.useCallback(async t=>{let s=t[0];if(s)try{let{url:t}=await a.mutateAsync({filename:s.name});await n(t,s),e("Upload complete!")}catch(t){var l;e(String(null!=(l=null==t?void 0:t.message)?l:"Upload failed"))}},[a,e]),{getRootProps:o,getInputProps:u,isDragActive:h}=(0,r.VB)({onDrop:d});return(0,s.jsxs)("div",{className:"p-4 space-y-4",children:[t,(0,s.jsx)("h1",{className:"text-lg font-semibold",children:"Direct Uploads"}),(0,s.jsxs)("div",{...o(),className:"flex h-40 items-center justify-center rounded border border-dashed "+(h?"bg-neutral-50":""),children:[(0,s.jsx)("input",{...u()}),(0,s.jsx)("p",{children:"Drag 'n' drop a file here, or click to select one"})]})]})}}},e=>{e.O(0,[789,222,900,341,358],()=>e(e.s=2469)),_N_E=e.O()}]);