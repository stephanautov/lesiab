(()=>{var a={};a.id=841,a.ids=[841],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:a=>{"use strict";a.exports=require("punycode")},13967:(a,b,c)=>{"use strict";c.r(b),c.d(b,{ProfileNormalizeNode:()=>r,ProfileSchema:()=>j,default:()=>s});var d=c(36930);let e=d.Ik({name:d.Yj().min(1),dbType:d.k5(["text","int","uuid","json","timestamp","vector"]).default("text"),required:d.zM().default(!1),pk:d.zM().optional(),fk:d.Yj().optional()}),f=d.Ik({name:d.Yj().min(1),table:d.Yj().min(1),fields:d.YO(e).default([]),realtime:d.zM().default(!1),storageBuckets:d.YO(d.Yj()).default([]),vectorSearch:d.zM().default(!1)}),g=d.Ik({path:d.Yj().min(1),entity:d.Yj().min(1),type:d.k5(["list","detail","custom"]).default("list")}),h=d.Ik({providerPreference:d.k5(["openai","anthropic"]).default("openai"),useLangGraph:d.zM().default(!0)}),i=d.Ik({targets:d.k5(["mobile","desktop","both"]).default("both"),uploads:d.Ik({enabled:d.zM().default(!1),types:d.YO(d.k5(["audio","code","image","text","pdf","video"])).default([])}).default({enabled:!1,types:[]}),downloads:d.Ik({enabled:d.zM().default(!1),types:d.YO(d.k5(["audio","code","image","text","pdf","video"])).default([])}).default({enabled:!1,types:[]}),business:d.Ik({isBusiness:d.zM().default(!1),model:d.k5(["subscription","services","products"]).optional()}).default({isBusiness:!1}),audience:d.Yj().default("")}).strict(),j=d.Ik({id:d.Yj().min(1),version:d.Yj().regex(/^\d+\.\d+\.\d+$/).default("1.0.0"),entities:d.YO(f).default([]),routes:d.YO(g).default([]),llm:h.default({providerPreference:"openai",useLangGraph:!0})}),k=d.KC([d.Yj().min(1),d.Ik({description:d.Yj().min(1),answers:i.optional()}).strict(),d.g1(d.Yj(),d.bz())]);function l(a){return a.trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function m(a){let b=new WeakSet,c=a=>{if(null===a||"object"!=typeof a||b.has(a))return a;if(b.add(a),Array.isArray(a))return a.map(c);let d={};for(let b of Object.keys(a).sort())d[b]=c(a[b]);return d};return JSON.stringify(c(a),null,2)+"\n"}async function n(a,b){try{let b=await c.e(531).then(c.bind(c,65531)).catch(()=>null);if(!b||!("jsonResponse"in b))return null;let{jsonResponse:d}=b,e={type:"object",additionalProperties:!1,properties:{id:{type:"string"},version:{type:"string"},entities:{type:"array",items:{type:"object",additionalProperties:!1,properties:{name:{type:"string"},table:{type:"string"},fields:{type:"array",items:{type:"object",additionalProperties:!1,properties:{name:{type:"string"},type:{enum:["uuid","text","number","boolean","timestamp","json","vector"]},required:{type:"boolean"},unique:{type:"boolean"},relation:{type:"object",additionalProperties:!1,properties:{target:{type:"string"},on:{type:"string"}}},dbType:{enum:["text","int","uuid","json","timestamp","vector"]},pk:{type:"boolean"},fk:{type:"string"}},required:["name"]}}}}},routes:{type:"array",items:{type:"object",additionalProperties:!1,properties:{path:{type:"string"},entity:{type:"string"},kind:{enum:["list","detail","create","edit"]},type:{enum:["list","detail","custom"]}},required:["path","entity"]}},llm:{type:"object",additionalProperties:!1,properties:{providerPreference:{enum:["openai","anthropic"]},useLangGraph:{type:"boolean"}}}}};return await d(`Extract a minimal, canonical application profile from the user's description.
Keep names concise; infer common fields like id(uuid) and created_at(timestamp).
Use only the enumerated types; prefer relation {target,on} for foreign keys.
Return strictly valid JSON conforming to the provided schema.
Avoid timestamps or any content that changes across runs.

DESCRIPTION:
${a}
`,e)}catch(a){return b?.warn?.({msg:"profile.normalize:llm_extract_failed"}),null}}function o(a,b){let c="string"==typeof a?.id&&a.id.trim().length>0?l(a.id):l("string"==typeof a?.name&&a.name.trim()?a.name:"string"==typeof a?.title&&a.title.trim()?a.title:"app"),d=Array.isArray(a?.entities)?a.entities:[],e=Array.isArray(a?.routes)?a.routes:[],f=d.map((a,c)=>{var d;let e="string"==typeof a?.name&&a.name.trim().length>0?a.name:`Entity${c+1}`,f="string"==typeof a?.table&&a.table.trim().length>0?a.table:function(a){let b=a.replace(/([a-z0-9])([A-Z])/g,"$1_$2").replace(/[\s\-]+/g,"_").toLowerCase();return b.endsWith("s")?b:`${b}s`}(e);return{name:e,table:f,fields:(d=Array.isArray(a?.fields)?a.fields:[],(d??[]).map(a=>{let c={name:String(a?.name??"").trim()||"field",required:!!a?.required};if(a?.dbType&&["text","int","uuid","json","timestamp","vector"].includes(a.dbType))c.dbType=a.dbType;else if(a?.type){let d=String(a.type);c.dbType="number"===d||"boolean"===d?"int":"uuid"===d?"uuid":"timestamp"===d?"timestamp":"json"===d?"json":"vector"===d?"vector":"text","boolean"===d&&b?.warn?.({msg:"profile.normalize:boolean_degraded_to_int"})}else c.dbType="text";if(a?.pk===!0&&(c.pk=!0),a?.relation&&"string"==typeof a.relation?.target){let b=a.relation?.on||"id";c.fk=`${a.relation.target}.${b}`}else"string"==typeof a?.fk&&a.fk.trim()&&(c.fk=a.fk.trim());return a?.unique&&b?.warn?.({msg:"profile.normalize:unique_ignored_in_output"}),c})),realtime:!!a?.realtime,storageBuckets:Array.isArray(a?.storageBuckets)?a.storageBuckets.filter(a=>"string"==typeof a&&a.trim().length>0):[],vectorSearch:!!a?.vectorSearch}}),g=e.map((a,b)=>{let c="string"==typeof a?.path&&a.path.trim().length>0?a.path:`/route-${b+1}`,d="string"==typeof a?.entity&&a.entity.trim().length>0?a.entity:f[0]?.name??"Entity1",e="list";return(a?.type==="detail"||a?.type==="custom")&&(e=a.type),a?.kind==="detail"&&(e="detail"),(a?.kind==="create"||a?.kind==="edit")&&(e="custom"),{path:c,entity:d,type:e}}),h={providerPreference:a?.llm?.providerPreference==="anthropic"?"anthropic":"openai",useLangGraph:a?.llm?.useLangGraph!==!1},i={id:c||"app",version:"string"==typeof a?.version&&/^\d+\.\d+\.\d+$/.test(a.version)?a.version:"1.0.0",entities:f,routes:g,llm:h};return j.parse(i)}function p(a,b,c){let d=JSON.parse(JSON.stringify(a)),e=new Set(d.entities.map(a=>a.name)),f=[];for(let a of d.routes){if(!e.has(a.entity)){b.warn({msg:"route references unknown entity; dropping",route:a.path,entity:a.entity,correlationId:c});continue}f.push(a)}return d.routes=f,j.parse(d)}async function q(a,b){let c=await n(a,b);return c?o(c,b):o(function(a){let b=a.toLowerCase(),c=/\bcomment(s)?\b/.test(b),d=[{name:"posts",table:"posts",fields:[{name:"id",dbType:"uuid",required:!0,pk:!0},{name:"title",dbType:"text",required:!0},{name:"content",dbType:"text",required:!1},{name:"created_at",dbType:"timestamp",required:!0}],realtime:!1,storageBuckets:[],vectorSearch:!1}];return c&&d.push({name:"comments",table:"comments",fields:[{name:"id",dbType:"uuid",required:!0,pk:!0},{name:"post_id",type:"uuid",required:!0,relation:{target:"posts",on:"id"}},{name:"body",dbType:"text",required:!0},{name:"created_at",dbType:"timestamp",required:!0}],realtime:!1,storageBuckets:[],vectorSearch:!1}),{id:"app",version:"1.0.0",entities:d,routes:[{path:"/posts",entity:"posts",type:"list"},{path:"/posts/:id",entity:"posts",type:"detail"},...c?[{path:"/comments",entity:"comments",type:"list"}]:[]],llm:{providerPreference:"openai",useLangGraph:!0}}}(a),b)}let r={id:"profile.normalize",phase:"processResponses",estimate:()=>({tokens:450,usd:.002}),async run(a,b){let c,d;b.logger.info({msg:"profile.normalize:start",correlationId:b.correlationId});let e=k.parse(a);if("object"==typeof e){let a=e.answers;a&&(d=i.parse(a))}if("string"==typeof e){let a=e.trim();if(a.startsWith("{")&&a.endsWith("}")||a.startsWith("[")&&a.endsWith("]"))try{c=JSON.parse(a)}catch{c={description:a}}else c={description:a}}else if("description"in e){let a=String(e.description),c=p(await q(a,b.logger),b.logger,b.correlationId),f=`artifacts/${b.orchestrationId}/profile.json`;if(await b.storage.saveArtifact(f,m(c)),d){let a=`artifacts/${b.orchestrationId}/requirements.json`;await b.storage.saveArtifact(a,m(d)),b.logger.info({msg:"profile.normalize:requirements_written",path:a})}return b.logger.info({msg:"profile.normalize:written",artifactPath:f,correlationId:b.correlationId,entities:c.entities.length,routes:c.routes.length}),{artifactPath:f,profile:c}}else c=e;let f=o(c,b.logger);f=p(f,b.logger,b.correlationId);let g=`artifacts/${b.orchestrationId}/profile.json`;return await b.storage.saveArtifact(g,m(f)),b.logger.info({msg:"profile.normalize:written",artifactPath:g,correlationId:b.correlationId,entities:f.entities.length,routes:f.routes.length}),{artifactPath:g,profile:f}}},s=r},27910:a=>{"use strict";a.exports=require("stream")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30423:(a,b,c)=>{"use strict";let d;c.r(b),c.d(b,{handler:()=>cU,patchFetch:()=>cT,routeModule:()=>cP,serverHooks:()=>cS,workAsyncStorage:()=>cQ,workUnitAsyncStorage:()=>cR});var e,f,g,h,i,j,k,l={};c.r(l),c.d(l,{GET:()=>cO,POST:()=>cO,runtime:()=>cN});var m=c(10018),n=c(6971),o=c(28218),p=c(92348),q=c(63138),r=c(261),s=c(21652),t=c(29246),u=c(41590),v=c(59301),w=c(85107),x=c(47113),y=c(86015),z=c(4280),A=c(86439),B=c(61862);let C={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,NOT_IMPLEMENTED:-32603,BAD_GATEWAY:-32603,SERVICE_UNAVAILABLE:-32603,GATEWAY_TIMEOUT:-32603,UNAUTHORIZED:-32001,PAYMENT_REQUIRED:-32002,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNSUPPORTED_MEDIA_TYPE:-32015,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099},D={[-32700]:"PARSE_ERROR",[-32600]:"BAD_REQUEST",[-32603]:"INTERNAL_SERVER_ERROR",[-32001]:"UNAUTHORIZED",[-32002]:"PAYMENT_REQUIRED",[-32003]:"FORBIDDEN",[-32004]:"NOT_FOUND",[-32005]:"METHOD_NOT_SUPPORTED",[-32008]:"TIMEOUT",[-32009]:"CONFLICT",[-32012]:"PRECONDITION_FAILED",[-32013]:"PAYLOAD_TOO_LARGE",[-32015]:"UNSUPPORTED_MEDIA_TYPE",[-32022]:"UNPROCESSABLE_CONTENT",[-32029]:"TOO_MANY_REQUESTS",[-32099]:"CLIENT_CLOSED_REQUEST"};function E(a,...b){let c=Object.assign(Object.create(null),a);for(let a of b)for(let b in a){if(b in c&&c[b]!==a[b])throw Error(`Duplicate key ${b}`);c[b]=a[b]}return c}function F(a){return!!a&&!Array.isArray(a)&&"object"==typeof a}function G(a){return"function"==typeof a}function H(a){return Object.assign(Object.create(null),a)}C.BAD_GATEWAY,C.SERVICE_UNAVAILABLE,C.GATEWAY_TIMEOUT,C.INTERNAL_SERVER_ERROR;let I="function"==typeof Symbol&&!!Symbol.asyncIterator;function J(a){return I&&F(a)&&Symbol.asyncIterator in a}let K=a=>a();function L(a){return a}var M=Object.create,N=Object.defineProperty,O=Object.getOwnPropertyDescriptor,P=Object.getOwnPropertyNames,Q=Object.getPrototypeOf,R=Object.prototype.hasOwnProperty,S=(a,b)=>function(){return b||(0,a[P(a)[0]])((b={exports:{}}).exports,b),b.exports},T=(a,b,c)=>(c=null!=a?M(Q(a)):{},((a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(var e,f=P(b),g=0,h=f.length;g<h;g++)e=f[g],R.call(a,e)||e===c||N(a,e,{get:(a=>b[a]).bind(null,e),enumerable:!(d=O(b,e))||d.enumerable});return a})(!b&&a&&a.__esModule?c:N(c,"default",{value:a,enumerable:!0}),a));let U=()=>{},V=a=>{Object.freeze&&Object.freeze(a)},W={PARSE_ERROR:400,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_SUPPORTED:405,TIMEOUT:408,CONFLICT:409,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,UNSUPPORTED_MEDIA_TYPE:415,UNPROCESSABLE_CONTENT:422,TOO_MANY_REQUESTS:429,CLIENT_CLOSED_REQUEST:499,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504};function X(a){var b;return null!=(b=W[a])?b:500}var Y=S({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(a,b){function c(a){return b.exports=c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},b.exports.__esModule=!0,b.exports.default=b.exports,c(a)}b.exports=c,b.exports.__esModule=!0,b.exports.default=b.exports}}),Z=S({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(a,b){var c=Y().default;b.exports=function(a,b){if("object"!=c(a)||!a)return a;var d=a[Symbol.toPrimitive];if(void 0!==d){var e=d.call(a,b||"default");if("object"!=c(e))return e;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)},b.exports.__esModule=!0,b.exports.default=b.exports}}),$=S({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(a,b){var c=Y().default,d=Z();b.exports=function(a){var b=d(a,"string");return"symbol"==c(b)?b:b+""},b.exports.__esModule=!0,b.exports.default=b.exports}}),_=S({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(a,b){var c=$();b.exports=function(a,b,d){return(b=c(b))in a?Object.defineProperty(a,b,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[b]=d,a},b.exports.__esModule=!0,b.exports.default=b.exports}}),aa=S({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(a,b){var c=_();function d(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}b.exports=function(a){for(var b=1;b<arguments.length;b++){var e=null!=arguments[b]?arguments[b]:{};b%2?d(Object(e),!0).forEach(function(b){c(a,b,e[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):d(Object(e)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(e,b))})}return a},b.exports.__esModule=!0,b.exports.default=b.exports}}),ab=T(aa(),1);function ac(a){let{path:b,error:c,config:d}=a,{code:e}=a.error,f={message:c.message,code:C[e],data:{code:e,httpStatus:X(c.code)}};return d.isDev&&"string"==typeof a.error.stack&&(f.data.stack=a.error.stack),"string"==typeof b&&(f.data.path=b),d.errorFormatter((0,ab.default)((0,ab.default)({},a),{},{shape:f}))}let ad=({shape:a})=>a;var ae=T(_(),1),af=class extends Error{};function ag(a){if(a instanceof ah||a instanceof Error&&"TRPCError"===a.name)return a;let b=new ah({code:"INTERNAL_SERVER_ERROR",cause:a});return a instanceof Error&&a.stack&&(b.stack=a.stack),b}var ah=class extends Error{constructor(a){var b,c;let d=function(a){if(a instanceof Error)return a;let b=typeof a;if("undefined"!==b&&"function"!==b&&null!==a){if("object"!==b)return Error(String(a));if(F(a))return Object.assign(new af,a)}}(a.cause);super(null!=(b=null!=(c=a.message)?c:null==d?void 0:d.message)?b:a.code,{cause:d}),(0,ae.default)(this,"cause",void 0),(0,ae.default)(this,"code",void 0),this.code=a.code,this.name="TRPCError",null!=this.cause||(this.cause=d)}},ai=T(aa(),1);let aj={input:{serialize:a=>a,deserialize:a=>a},output:{serialize:a=>a,deserialize:a=>a}};function ak(a,b){return"error"in b?(0,ai.default)((0,ai.default)({},b),{},{error:a.transformer.output.serialize(b.error)}):"data"in b.result?(0,ai.default)((0,ai.default)({},b),{},{result:(0,ai.default)((0,ai.default)({},b.result),{},{data:a.transformer.output.serialize(b.result.data)})}):b}function al(a,b){return Array.isArray(b)?b.map(b=>ak(a,b)):ak(a,b)}var am=T(aa(),1);let an={_ctx:null,_errorShape:null,_meta:null,queries:{},mutations:{},subscriptions:{},errorFormatter:ad,transformer:aj},ao=["then","call","apply"];function ap(a){return function(b){let c=new Set(Object.keys(b).filter(a=>ao.includes(a)));if(c.size>0)throw Error("Reserved words used in `router({})` call: "+Array.from(c).join(", "));let d=H({}),e=H({}),f=function a(b,c=[]){let f=H({});for(let[g,h]of Object.entries(null!=b?b:{})){if("function"==typeof h&&"lazyMarker"in h){e[[...c,g].join(".")]=function b(c){return{ref:c.ref,load:function(a){let b=Symbol(),c=b;return()=>(c===b&&(c=a()),c)}(async()=>{let d=await c.ref(),f=[...c.path,c.key],g=f.join(".");for(let[h,i]of(c.aggregate[c.key]=a(d._def.record,f),delete e[g],Object.entries(d._def.lazy)))e[[...f,h].join(".")]=b({ref:i.ref,path:f,key:h,aggregate:c.aggregate[c.key]})})}}({path:c,ref:h,key:g,aggregate:f});continue}if(F(h)&&F(h._def)&&"router"in h._def){f[g]=a(h._def.record,[...c,g]);continue}if("function"!=typeof h){f[g]=a(h,[...c,g]);continue}let b=[...c,g].join(".");if(d[b])throw Error(`Duplicate key: ${b}`);d[b]=h,f[g]=h}return f}(b),g=(0,am.default)((0,am.default)({_config:a,router:!0,procedures:d,lazy:e},an),{},{record:f});return(0,am.default)((0,am.default)({},f),{},{_def:g,createCaller:ar()({_def:g})})}}async function aq(a,b){let{_def:c}=a,d=c.procedures[b];for(;!d;){let a=Object.keys(c.lazy).find(a=>b.startsWith(a));if(!a)return null;let e=c.lazy[a];await e.load(),d=c.procedures[b]}return d}function ar(){return function(a){let{_def:b}=a;return function(c,d){return function a(b,c,d){let e=c.join(".");return null!=d[e]||(d[e]=new Proxy(U,{get(e,f){if("string"==typeof f&&"then"!==f)return a(b,[...c,f],d)},apply(a,d,e){let f=c[c.length-1],g={args:e,path:c};return"call"===f?g={args:e.length>=2?[e[1]]:[],path:c.slice(0,-1)}:"apply"===f&&(g={args:e.length>=2?e[1]:[],path:c.slice(0,-1)}),V(g.args),V(g.path),b(g)}})),d[e]}(async({path:e,args:f})=>{let g,h=e.join(".");if(1===e.length&&"_def"===e[0])return b;let i=await aq(a,h);try{if(!i)throw new ah({code:"NOT_FOUND",message:`No procedure found on path "${e}"`});return g=G(c)?await Promise.resolve(c()):c,await i({path:h,getRawInput:async()=>f[0],ctx:g,type:i._def.type,signal:null==d?void 0:d.signal})}catch(a){var j,k;throw null==d||null==(j=d.onError)||j.call(d,{ctx:g,error:ag(a),input:f[0],path:h,type:null!=(k=null==i?void 0:i._def.type)?k:"unknown"}),a}},[],Object.create(null))}}}function as(...a){var b;let c=E({},...a.map(a=>a._def.record));return ap({errorFormatter:a.reduce((a,b)=>{if(b._def._config.errorFormatter&&b._def._config.errorFormatter!==ad){if(a!==ad&&a!==b._def._config.errorFormatter)throw Error("You seem to have several error formatters");return b._def._config.errorFormatter}return a},ad),transformer:a.reduce((a,b)=>{if(b._def._config.transformer&&b._def._config.transformer!==aj){if(a!==aj&&a!==b._def._config.transformer)throw Error("You seem to have several transformers");return b._def._config.transformer}return a},aj),isDev:a.every(a=>a._def._config.isDev),allowOutsideOfServer:a.every(a=>a._def._config.allowOutsideOfServer),isServer:a.every(a=>a._def._config.isServer),$types:null==(b=a[0])?void 0:b._def._config.$types})(c)}let at=Symbol();function au(a){return"object"==typeof a&&null!==a&&"subscribe"in a}function av(a,b){let c=(function(a,b){let c=null,d=()=>{null==c||c.unsubscribe(),c=null,b.removeEventListener("abort",d)};return new ReadableStream({start(e){c=a.subscribe({next(a){e.enqueue({ok:!0,value:a})},error(a){e.enqueue({ok:!1,error:a}),e.close()},complete(){e.close()}}),b.aborted?d():b.addEventListener("abort",d,{once:!0})},cancel(){d()}})})(a,b).getReader(),d={async next(){let a=await c.read();if(a.done)return{value:void 0,done:!0};let{value:b}=a;if(!b.ok)throw b.error;return{value:b.value,done:!1}},return:async()=>(await c.cancel(),{value:void 0,done:!0})};return{[Symbol.asyncIterator]:()=>d}}var aw=T(aa(),1);function ax(a){let b=null,c=Symbol.for("@trpc/server/http/memo"),d=c;return{read:async()=>(d!==c||(null!=b||(b=a().catch(a=>{if(a instanceof ah)throw a;throw new ah({code:"BAD_REQUEST",message:a instanceof Error?a.message:"Invalid input",cause:a})})),d=await b,b=null),d),result:()=>d!==c?d:void 0}}let ay={isMatch(a){var b;return!!(null==(b=a.headers.get("content-type"))?void 0:b.startsWith("application/json"))},async parse(a){var b;let{req:c}=a,d="1"===a.searchParams.get("batch"),e=d?a.path.split(","):[a.path],f=ax(async()=>{let b;if("GET"===c.method){let c=a.searchParams.get("input");c&&(b=JSON.parse(c))}else b=await c.json();if(void 0===b)return{};if(!d)return{0:a.router._def._config.transformer.input.deserialize(b)};if(!F(b))throw new ah({code:"BAD_REQUEST",message:'"input" needs to be an object when doing a batch call'});let f={};for(let c of e.keys()){let d=b[c];void 0!==d&&(f[c]=a.router._def._config.transformer.input.deserialize(d))}return f}),g=await Promise.all(e.map(async(b,c)=>{let d=await aq(a.router,b);return{path:b,procedure:d,getRawInput:async()=>{let b=(await f.read())[c];if((null==d?void 0:d._def.type)==="subscription"){var e,g;let c=null!=(e=null!=(g=a.headers.get("last-event-id"))?g:a.searchParams.get("lastEventId"))?e:a.searchParams.get("Last-Event-Id");c&&(F(b)?b=(0,aw.default)((0,aw.default)({},b),{},{lastEventId:c}):null!=b||(b={lastEventId:c}))}return b},result:()=>{var a;return null==(a=f.result())?void 0:a[c]}}})),h=new Set(g.map(a=>{var b;return null==(b=a.procedure)?void 0:b._def.type}).filter(Boolean));if(h.size>1)throw new ah({code:"BAD_REQUEST",message:`Cannot mix procedure types in call: ${Array.from(h).join(", ")}`});let i=null!=(b=h.values().next().value)?b:"unknown",j=a.searchParams.get("connectionParams");return{isBatchCall:d,accept:c.headers.get("trpc-accept"),calls:g,type:i,connectionParams:null===j?null:function(a){let b;try{b=JSON.parse(a)}catch(a){throw new ah({code:"PARSE_ERROR",message:"Not JSON-parsable query params",cause:a})}var c=b;try{if(null===c)return null;if(!F(c))throw Error("Expected object");let a=Object.entries(c).filter(([a,b])=>"string"!=typeof b);if(a.length>0)throw Error(`Expected connectionParams to be string values. Got ${a.map(([a,b])=>`${a}: ${typeof b}`).join(", ")}`);return c}catch(a){throw new ah({code:"PARSE_ERROR",message:"Invalid connection params shape",cause:a})}}(j),signal:c.signal,url:a.url}}},az=[ay,{isMatch(a){var b;return!!(null==(b=a.headers.get("content-type"))?void 0:b.startsWith("multipart/form-data"))},async parse(a){let{req:b}=a;if("POST"!==b.method)throw new ah({code:"METHOD_NOT_SUPPORTED",message:"Only POST requests are supported for multipart/form-data requests"});let c=ax(async()=>await b.formData()),d=await aq(a.router,a.path);return{accept:null,calls:[{path:a.path,getRawInput:c.read,result:c.result,procedure:d}],isBatchCall:!1,type:"mutation",connectionParams:null,signal:b.signal,url:a.url}}},{isMatch(a){var b;return!!(null==(b=a.headers.get("content-type"))?void 0:b.startsWith("application/octet-stream"))},async parse(a){let{req:b}=a;if("POST"!==b.method)throw new ah({code:"METHOD_NOT_SUPPORTED",message:"Only POST requests are supported for application/octet-stream requests"});let c=ax(async()=>b.body);return{calls:[{path:a.path,getRawInput:c.read,result:c.result,procedure:await aq(a.router,a.path)}],isBatchCall:!1,accept:null,type:"mutation",connectionParams:null,signal:b.signal,url:a.url}}}];async function aA(a){let b=function(a){let b=az.find(b=>b.isMatch(a));if(b)return b;if(!b&&"GET"===a.method)return ay;throw new ah({code:"UNSUPPORTED_MEDIA_TYPE",message:a.headers.has("content-type")?`Unsupported content-type "${a.headers.get("content-type")}`:"Missing content-type header"})}(a.req);return await b.parse(a)}function aB(a="AbortError"){throw new DOMException(a,"AbortError")}function aC(a){return"[object Object]"===Object.prototype.toString.call(a)}var aD=T(_(),1);let aE=new WeakMap,aF=()=>{};d=Symbol.toStringTag;var aG=class a{constructor(a){(0,aD.default)(this,"promise",void 0),(0,aD.default)(this,"subscribers",[]),(0,aD.default)(this,"settlement",null),(0,aD.default)(this,d,"Unpromise"),"function"==typeof a?this.promise=new Promise(a):this.promise=a;let b=this.promise.then(a=>{let{subscribers:b}=this;this.subscribers=null,this.settlement={status:"fulfilled",value:a},null==b||b.forEach(({resolve:b})=>{b(a)})});"catch"in b&&b.catch(a=>{let{subscribers:b}=this;this.subscribers=null,this.settlement={status:"rejected",reason:a},null==b||b.forEach(({reject:b})=>{b(a)})})}subscribe(){let a,b,{settlement:c}=this;if(null===c){var d;let c,e;if(null===this.subscribers)throw Error("Unpromise settled but still has subscribers");let f={promise:new Promise((a,b)=>{c=a,e=b}),resolve:c,reject:e};this.subscribers=(d=this.subscribers,[...d,f]),a=f.promise,b=()=>{null!==this.subscribers&&(this.subscribers=function(a,b){let c=a.indexOf(b);if(-1!==c)return[...a.slice(0,c),...a.slice(c+1)];return a}(this.subscribers,f))}}else{let{status:d}=c;a="fulfilled"===d?Promise.resolve(c.value):Promise.reject(c.reason),b=aF}return Object.assign(a,{unsubscribe:b})}then(a,b){let c=this.subscribe(),{unsubscribe:d}=c;return Object.assign(c.then(a,b),{unsubscribe:d})}catch(a){let b=this.subscribe(),{unsubscribe:c}=b;return Object.assign(b.catch(a),{unsubscribe:c})}finally(a){let b=this.subscribe(),{unsubscribe:c}=b;return Object.assign(b.finally(a),{unsubscribe:c})}static proxy(b){let c=a.getSubscribablePromise(b);return void 0!==c?c:a.createSubscribablePromise(b)}static createSubscribablePromise(b){let c=new a(b);return aE.set(b,c),aE.set(c,c),c}static getSubscribablePromise(a){return aE.get(a)}static resolve(b){let c="object"==typeof b&&null!==b&&"then"in b&&"function"==typeof b.then?b:Promise.resolve(b);return a.proxy(c).subscribe()}static async any(b){let c=(Array.isArray(b)?b:[...b]).map(a.resolve);try{return await Promise.any(c)}finally{c.forEach(({unsubscribe:a})=>{a()})}}static async race(b){let c=(Array.isArray(b)?b:[...b]).map(a.resolve);try{return await Promise.race(c)}finally{c.forEach(({unsubscribe:a})=>{a()})}}static async raceReferences(a){let b=a.map(aH);try{return await Promise.race(b)}finally{for(let a of b)a.unsubscribe()}}};function aH(a){return aG.proxy(a).then(()=>[a])}function aI(a,b){let c=a[Symbol.asyncDispose];return a[Symbol.asyncDispose]=async()=>{await b(),await (null==c?void 0:c())},a}null!=(g=Symbol).dispose||(g.dispose=Symbol()),null!=(h=Symbol).asyncDispose||(h.asyncDispose=Symbol());let aJ=Symbol();function aK(a){let b=null;return function(a,b){let c=a[Symbol.dispose];return a[Symbol.dispose]=()=>{b(),null==c||c()},a}({start(){if(b)throw Error("Timer already started");return new Promise(c=>{b=setTimeout(()=>c(aJ),a)})}},()=>{b&&clearTimeout(b)})}var aL=S({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/usingCtx.js"(a,b){b.exports=function(){var a="function"==typeof SuppressedError?SuppressedError:function(a,b){var c=Error();return c.name="SuppressedError",c.error=a,c.suppressed=b,c},b={},c=[];function d(a,b){if(null!=b){if(Object(b)!==b)throw TypeError("using declarations can only be used with objects, functions, null, or undefined.");if(a)var d=b[Symbol.asyncDispose||Symbol.for("Symbol.asyncDispose")];if(void 0===d&&(d=b[Symbol.dispose||Symbol.for("Symbol.dispose")],a))var e=d;if("function"!=typeof d)throw TypeError("Object is not disposable.");e&&(d=function(){try{e.call(b)}catch(a){return Promise.reject(a)}}),c.push({v:b,d:d,a:a})}else a&&c.push({d:b,a:a});return b}return{e:b,u:d.bind(null,!1),a:d.bind(null,!0),d:function(){var d,e=this.e,f=0;function g(){for(;d=c.pop();)try{if(!d.a&&1===f)return f=0,c.push(d),Promise.resolve().then(g);if(d.d){var a=d.d.call(d.v);if(d.a)return f|=2,Promise.resolve(a).then(g,h)}else f|=1}catch(a){return h(a)}if(1===f)return e!==b?Promise.reject(e):Promise.resolve();if(e!==b)throw e}function h(c){return e=e!==b?new a(c,e):c,g()}return g()}}},b.exports.__esModule=!0,b.exports.default=b.exports}}),aM=S({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/OverloadYield.js"(a,b){b.exports=function(a,b){this.v=a,this.k=b},b.exports.__esModule=!0,b.exports.default=b.exports}}),aN=S({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/awaitAsyncGenerator.js"(a,b){var c=aM();b.exports=function(a){return new c(a,0)},b.exports.__esModule=!0,b.exports.default=b.exports}}),aO=S({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/wrapAsyncGenerator.js"(a,b){var c=aM();function d(a){var b,d;function e(b,d){try{var g=a[b](d),h=g.value,i=h instanceof c;Promise.resolve(i?h.v:h).then(function(c){if(i){var d="return"===b?"return":"next";if(!h.k||c.done)return e(d,c);c=a[d](c).value}f(g.done?"return":"normal",c)},function(a){e("throw",a)})}catch(a){f("throw",a)}}function f(a,c){switch(a){case"return":b.resolve({value:c,done:!0});break;case"throw":b.reject(c);break;default:b.resolve({value:c,done:!1})}(b=b.next)?e(b.key,b.arg):d=null}this._invoke=function(a,c){return new Promise(function(f,g){var h={key:a,arg:c,resolve:f,reject:g,next:null};d?d=d.next=h:(b=d=h,e(a,c))})},"function"!=typeof a.return&&(this.return=void 0)}d.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},d.prototype.next=function(a){return this._invoke("next",a)},d.prototype.throw=function(a){return this._invoke("throw",a)},d.prototype.return=function(a){return this._invoke("return",a)},b.exports=function(a){return function(){return new d(a.apply(this,arguments))}},b.exports.__esModule=!0,b.exports.default=b.exports}}),aP=T(aL(),1),aQ=T(aN(),1),aR=T(aO(),1);function aS(a){let b=a[Symbol.asyncIterator]();return b[Symbol.asyncDispose]?b:aI(b,async()=>{var a;await (null==(a=b.return)?void 0:a.call(b))})}function aT(){return(aT=(0,aR.default)(function*(a,b){try{let d;var c=(0,aP.default)();let e=c.a(aS(a)),f=c.u(aK(b.maxDurationMs)).start();for(;;){if((d=yield(0,aQ.default)(aG.race([e.next(),f])))===aJ&&aB(),d.done)return d;yield d.value,d=null}}catch(a){c.e=a}finally{yield(0,aQ.default)(c.d())}})).apply(this,arguments)}function aU(){return(aU=(0,aR.default)(function*(a,b){try{let d;var c=(0,aP.default)();let e=c.a(aS(a)),f=c.u(aK(b.gracePeriodMs)),g=b.count,h=new Promise(()=>{});for(;;){if((d=yield(0,aQ.default)(aG.race([e.next(),h])))===aJ&&aB(),d.done)return d.value;yield d.value,0==--g&&(h=f.start()),d=null}}catch(a){c.e=a}finally{yield(0,aQ.default)(c.d())}})).apply(this,arguments)}function aV(){let a,b;return{promise:new Promise((c,d)=>{a=c,b=d}),resolve:a,reject:b}}var aW=T(aL(),1),aX=T(aN(),1),aY=T(aO(),1);function aZ(a){let b=a[Symbol.asyncIterator]();return new ReadableStream({async cancel(){var a;await (null==(a=b.return)?void 0:a.call(b))},async pull(a){let c=await b.next();if(c.done)return void a.close();a.enqueue(c.value)}})}var a$=T(aL(),1),a_=T(aN(),1),a0=T(aO(),1);let a1=Symbol("ping");function a2(a,b){return a3.apply(this,arguments)}function a3(){return(a3=(0,a0.default)(function*(a,b){try{let e;var c=(0,a$.default)();let f=c.a(aS(a)),g=f.next();for(;;)try{var d=(0,a$.default)();let a=d.u(aK(b));if((e=yield(0,a_.default)(aG.race([g,a.start()])))===aJ){yield a1;continue}if(e.done)return e.value;g=f.next(),yield e.value,e=null}catch(a){d.e=a}finally{d.d()}}catch(a){c.e=a}finally{yield(0,a_.default)(c.d())}})).apply(this,arguments)}var a4=S({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncIterator.js"(a,b){function c(a){function b(a){if(Object(a)!==a)return Promise.reject(TypeError(a+" is not an object."));var b=a.done;return Promise.resolve(a.value).then(function(a){return{value:a,done:b}})}return(c=function(a){this.s=a,this.n=a.next}).prototype={s:null,n:null,next:function(){return b(this.n.apply(this.s,arguments))},return:function(a){var c=this.s.return;return void 0===c?Promise.resolve({value:a,done:!0}):b(c.apply(this.s,arguments))},throw:function(a){var c=this.s.return;return void 0===c?Promise.reject(a):b(c.apply(this.s,arguments))}},new c(a)}b.exports=function(a){var b,d,e,f=2;for("undefined"!=typeof Symbol&&(d=Symbol.asyncIterator,e=Symbol.iterator);f--;){if(d&&null!=(b=a[d]))return b.call(a);if(e&&null!=(b=a[e]))return new c(b.call(a));d="@@asyncIterator",e="@@iterator"}throw TypeError("Object is not async iterable")},b.exports.__esModule=!0,b.exports.default=b.exports}}),a5=T(aN(),1),a6=T(aO(),1),a7=T(aL(),1),a8=T(a4(),1);function a9(a){return(F(a)||G(a))&&"function"==typeof(null==a?void 0:a.then)&&"function"==typeof(null==a?void 0:a.catch)}var ba=class extends Error{constructor(a){super("Max depth reached at path: "+a.join(".")),this.path=a}};function bb(){return(bb=(0,a6.default)(function*(a){let{data:b}=a,c=0,d=function(){let a="idle",b=aV(),c=[],d=new Set,e=[];function f(c){if("pending"!==a)return;let f=function(a,b){let c=a[Symbol.asyncIterator](),d="idle";function e(){d="done",b=()=>{}}return{pull:function(){"idle"===d&&(d="pending",c.next().then(a=>{if(a.done){d="done",b({status:"return",value:a.value}),e();return}d="idle",b({status:"yield",value:a.value})}).catch(a=>{b({status:"error",error:a}),e()}))},destroy:async()=>{var a;e(),await (null==(a=c.return)?void 0:a.call(c))}}}(c,c=>{if("pending"===a){switch(c.status){case"yield":e.push([f,c]);break;case"return":d.delete(f);break;case"error":e.push([f,c]),d.delete(f)}b.resolve()}});d.add(f),f.pull()}return{add(b){switch(a){case"idle":c.push(b);break;case"pending":f(b)}},[Symbol.asyncIterator]:()=>(0,aY.default)(function*(){try{var g=(0,aW.default)();if("idle"!==a)throw Error("Cannot iterate twice");for(a="pending",g.a(aI({},async()=>{a="done";let c=[];if(await Promise.all(Array.from(d.values()).map(async a=>{try{await a.destroy()}catch(a){c.push(a)}})),e.length=0,d.clear(),b.resolve(),c.length>0)throw AggregateError(c)}));c.length>0;)f(c.shift());for(;d.size>0;){for(yield(0,aX.default)(b.promise);e.length>0;){let[a,b]=e.shift();switch(b.status){case"yield":yield b.value,a.pull();break;case"error":throw b.error}}b=aV()}}catch(a){g.e=a}finally{yield(0,aX.default)(g.d())}})()}}();function e(a){let b=c++,e=a(b);return d.add(e),b}function f(b){return a.maxDepth&&b.length>a.maxDepth?new ba(b):null}function g(b,c){var d,g,i;if(a9(b))return[0,(d=b,e((g=(0,a6.default)(function*(b){let e=f(c);e&&(d.catch(b=>{var d;null==(d=a.onError)||d.call(a,{error:b,path:c})}),d=Promise.reject(e));try{let a=yield(0,a5.default)(d);yield[b,0,h(a,c)]}catch(d){var g,i;null==(g=a.onError)||g.call(a,{error:d,path:c}),yield[b,1,null==(i=a.formatError)?void 0:i.call(a,{error:d,path:c})]}}),function(a){return g.apply(this,arguments)})))];if(J(b)){if(a.maxDepth&&c.length>=a.maxDepth)throw Error("Max depth reached");return[1,e((i=(0,a6.default)(function*(d){try{var e,g,i=(0,a7.default)();let j=f(c);if(j)throw j;let k=i.a(aS(b));try{for(;;){let a=yield(0,a5.default)(k.next());if(a.done){yield[d,0,h(a.value,c)];break}yield[d,1,h(a.value,c)]}}catch(b){null==(e=a.onError)||e.call(a,{error:b,path:c}),yield[d,2,null==(g=a.formatError)?void 0:g.call(a,{error:b,path:c})]}}catch(a){i.e=a}finally{yield(0,a5.default)(i.d())}}),function(a){return i.apply(this,arguments)}))]}return null}function h(a,b){var c,d;if(void 0===a)return[[]];let e=g(a,b);if(e)return[[0],[null,...e]];if(!1===aC(a)||void 0!==(c=a.constructor)&&(!1===aC(d=c.prototype)||!1===d.hasOwnProperty("isPrototypeOf")))return[[a]];let f={},h=[];for(let[c,d]of Object.entries(a)){let a=g(d,[...b,c]);if(!a){f[c]=d;continue}f[c]=0,h.push([c,...a])}return[[f],...h]}let i={};for(let[a,c]of Object.entries(b))i[a]=h(c,[a]);yield i;let j=d;a.pingMs&&(j=a2(d,a.pingMs));var k=!1,l=!1;try{for(var m,n,o=(0,a8.default)(j);k=!(n=yield(0,a5.default)(o.next())).done;k=!1){let a=n.value;yield a}}catch(a){l=!0,m=a}finally{try{k&&null!=o.return&&(yield(0,a5.default)(o.return()))}finally{if(l)throw m}}})).apply(this,arguments)}var bc=S({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncGeneratorDelegate.js"(a,b){var c=aM();b.exports=function(a){var b={},d=!1;function e(b,e){return d=!0,{done:!1,value:new c(e=new Promise(function(c){c(a[b](e))}),1)}}return b["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},b.next=function(a){return d?(d=!1,a):e("next",a)},"function"==typeof a.throw&&(b.throw=function(a){if(d)throw d=!1,a;return e("throw",a)}),"function"==typeof a.return&&(b.return=function(a){return d?(d=!1,a):e("return",a)}),b},b.exports.__esModule=!0,b.exports.default=b.exports}}),bd=T(a4(),1),be=T(aN(),1),bf=T(aO(),1),bg=T(bc(),1);T(aL(),1);let bh={"Content-Type":"text/event-stream","Cache-Control":"no-cache, no-transform","X-Accel-Buffering":"no",Connection:"keep-alive"};var bi=T(aO(),1),bj=T(aa(),1);function bk(a){return K((0,bi.default)(function*(){throw a}))}let bl={mutation:["POST"],query:["GET"],subscription:["GET"]},bm={mutation:["POST"],query:["GET","POST"],subscription:["GET","POST"]};function bn(a){var b,c,d;let{ctx:e,info:f,responseMeta:g,untransformedJSON:h,errors:i=[],headers:j}=a,k=h?function(a){let b=new Set((Array.isArray(a)?a:[a]).map(a=>{if("error"in a&&F(a.error.data)){var b;return"number"==typeof(null==(b=a.error.data)?void 0:b.httpStatus)?a.error.data.httpStatus:X(D[a.error.code])}return 200}));return 1!==b.size?207:b.values().next().value}(h):200,l=!h,m=l?[]:Array.isArray(h)?h:[h],n=null!=(b=null==g?void 0:g({ctx:e,info:f,paths:null==f?void 0:f.calls.map(a=>a.path),data:m,errors:i,eagerGeneration:l,type:null!=(c=null==f||null==(d=f.calls.find(a=>{var b;return null==(b=a.procedure)?void 0:b._def.type}))||null==(d=d.procedure)?void 0:d._def.type)?c:"unknown"}))?b:{};if(n.headers)if(n.headers instanceof Headers)for(let[a,b]of n.headers.entries())j.append(a,b);else for(let[a,b]of Object.entries(n.headers))if(Array.isArray(b))for(let c of b)j.append(a,c);else"string"==typeof b&&j.set(a,b);return n.status&&(k=n.status),{status:k}}function bo(a){return!!F(a)&&(!!J(a)||Object.values(a).some(a9)||Object.values(a).some(J))}async function bp(a){var b,c,d,e,f,g,h;let{router:i,req:j}=a,k=new Headers([["vary","trpc-accept"]]),l=i._def._config,m=new URL(j.url);if("HEAD"===j.method)return new Response(null,{status:204});let n=null==(b=null!=(c=a.allowBatching)?c:null==(d=a.batching)?void 0:d.enabled)||b,o=null!=(e=a.allowMethodOverride)&&e&&"POST"===j.method,p=await K(async()=>{try{return[void 0,await aA({req:j,path:decodeURIComponent(a.path),router:i,searchParams:m.searchParams,headers:a.req.headers,url:m})]}catch(a){return[ag(a),void 0]}}),q=K(()=>{let b;return{valueOrUndefined:()=>{if(b)return b[1]},value:()=>{let[a,c]=b;if(a)throw a;return c},create:async c=>{if(b)throw Error("This should only be called once - report a bug in tRPC");try{let d=await a.createContext({info:c});b=[void 0,d]}catch(a){b=[ag(a),void 0]}}}}),r=o?bm:bl,s="application/jsonl"===j.headers.get("trpc-accept"),t=null==(f=null==(g=l.sse)?void 0:g.enabled)||f;try{let[b,c]=p;if(b)throw b;if(c.isBatchCall&&!n)throw new ah({code:"BAD_REQUEST",message:"Batching is not enabled on the server"});if(s&&!c.isBatchCall)throw new ah({message:"Streaming requests must be batched (you can do a batch of 1)",code:"BAD_REQUEST"});await q.create(c);let d=c.calls.map(async b=>{let d=b.procedure;try{if(a.error)throw a.error;if(!d)throw new ah({code:"NOT_FOUND",message:`No procedure found on path "${b.path}"`});if(!r[d._def.type].includes(j.method))throw new ah({code:"METHOD_NOT_SUPPORTED",message:`Unsupported ${j.method}-request to ${d._def.type} procedure at path "${b.path}"`});if("subscription"===d._def.type&&c.isBatchCall)throw new ah({code:"BAD_REQUEST",message:"Cannot batch subscription calls"});let e=await d({path:b.path,getRawInput:b.getRawInput,ctx:q.value(),type:d._def.type,signal:a.req.signal});return[void 0,{data:e}]}catch(h){var e,f,g;let c=ag(h),d=b.result();return null==(e=a.onError)||e.call(a,{error:c,path:b.path,input:d,ctx:q.valueOrUndefined(),type:null!=(f=null==(g=b.procedure)?void 0:g._def.type)?f:"unknown",req:a.req}),[c,void 0]}});if(!c.isBatchCall){let[b]=c.calls,[e,f]=await d[0];switch(c.type){case"unknown":case"mutation":case"query":{if(k.set("content-type","application/json"),bo(null==f?void 0:f.data))throw new ah({code:"UNSUPPORTED_MEDIA_TYPE",message:"Cannot use stream-like response in non-streaming request - use httpBatchStreamLink"});let d=e?{error:ac({config:l,ctx:q.valueOrUndefined(),error:e,input:b.result(),path:b.path,type:c.type})}:{result:{data:f.data}},g=bn({ctx:q.valueOrUndefined(),info:c,responseMeta:a.responseMeta,errors:e?[e]:[],headers:k,untransformedJSON:[d]});return new Response(JSON.stringify(al(l,d)),{status:g.status,headers:k})}case"subscription":{let d=K(()=>e?bk(e):t?au(f.data)||J(f.data)?au(f.data)?av(f.data,a.req.signal):f.data:bk(new ah({message:`Subscription ${b.path} did not return an observable or a AsyncGenerator`,code:"INTERNAL_SERVER_ERROR"})):bk(new ah({code:"METHOD_NOT_SUPPORTED",message:'Missing experimental flag "sseSubscriptions"'}))),g=function(a){var b,c,d,e,f;let{serialize:g=L}=a,h={enabled:null!=(b=null==(c=a.ping)?void 0:c.enabled)&&b,intervalMs:null!=(d=null==(e=a.ping)?void 0:e.intervalMs)?d:1e3},i=null!=(f=a.client)?f:{};if(h.enabled&&i.reconnectAfterInactivityMs&&h.intervalMs>i.reconnectAfterInactivityMs)throw Error(`Ping interval must be less than client reconnect interval to prevent unnecessary reconnection - ping.intervalMs: ${h.intervalMs} client.reconnectAfterInactivityMs: ${i.reconnectAfterInactivityMs}`);function j(){return(j=(0,bf.default)(function*(){let b,c;yield{event:"connected",data:JSON.stringify(i)};let d=a.data;a.emitAndEndImmediately&&(d=function(a,b){return aU.apply(this,arguments)}(d,{count:1,gracePeriodMs:1})),a.maxDurationMs&&a.maxDurationMs>0&&a.maxDurationMs!==1/0&&(d=function(a,b){return aT.apply(this,arguments)}(d,{maxDurationMs:a.maxDurationMs})),h.enabled&&h.intervalMs!==1/0&&h.intervalMs>0&&(d=a2(d,h.intervalMs));var e=!1,f=!1;try{for(var j,k,l,m=(0,bd.default)(d);e=!(l=yield(0,be.default)(m.next())).done;e=!1){if((b=l.value)===a1){yield{event:"ping",data:""};continue}(j=b,c=Array.isArray(j)&&j[2]===at?{id:b[0],data:b[1]}:{data:b}).data=JSON.stringify(g(c.data)),yield c,b=null,c=null}}catch(a){f=!0,k=a}finally{try{e&&null!=m.return&&(yield(0,be.default)(m.return()))}finally{if(f)throw k}}})).apply(this,arguments)}function k(){return(k=(0,bf.default)(function*(){try{yield*(0,bg.default)((0,bd.default)(function(){return j.apply(this,arguments)}())),yield{event:"return",data:""}}catch(f){var b,c;if(F(f)&&"AbortError"===f.name)return;let d=ag(f),e=null!=(b=null==(c=a.formatError)?void 0:c.call(a,{error:d}))?b:null;yield{event:"serialized-error",data:JSON.stringify(g(e))}}})).apply(this,arguments)}return aZ(function(){return k.apply(this,arguments)}()).pipeThrough(new TransformStream({transform(a,b){"event"in a&&b.enqueue(`event: ${a.event}
`),"data"in a&&b.enqueue(`data: ${a.data}
`),"id"in a&&b.enqueue(`id: ${a.id}
`),"comment"in a&&b.enqueue(`: ${a.comment}
`),b.enqueue("\n\n")}})).pipeThrough(new TextEncoderStream)}((0,bj.default)((0,bj.default)({},l.sse),{},{data:d,serialize:a=>l.transformer.output.serialize(a),formatError(c){var d,e,f;let g=ag(c.error),h=null==b?void 0:b.result(),i=null==b?void 0:b.path,j=null!=(d=null==b||null==(e=b.procedure)?void 0:e._def.type)?d:"unknown";return null==(f=a.onError)||f.call(a,{error:g,path:i,input:h,ctx:q.valueOrUndefined(),req:a.req,type:j}),ac({config:l,ctx:q.valueOrUndefined(),error:g,input:h,path:i,type:j})}}));for(let[a,b]of Object.entries(bh))k.set(a,b);let h=bn({ctx:q.valueOrUndefined(),info:c,responseMeta:a.responseMeta,errors:[],headers:k,untransformedJSON:null});return new Response(g,{headers:k,status:h.status})}}}if("application/jsonl"===c.accept){k.set("content-type","application/json"),k.set("transfer-encoding","chunked");let b=bn({ctx:q.valueOrUndefined(),info:c,responseMeta:a.responseMeta,errors:[],headers:k,untransformedJSON:null}),e=function(a){let b=aZ(function(a){return bb.apply(this,arguments)}(a)),{serialize:c}=a;return c&&(b=b.pipeThrough(new TransformStream({transform(a,b){a===a1?b.enqueue(a1):b.enqueue(c(a))}}))),b.pipeThrough(new TransformStream({transform(a,b){a===a1?b.enqueue(" "):b.enqueue(JSON.stringify(a)+"\n")}})).pipeThrough(new TextEncoderStream)}((0,bj.default)((0,bj.default)({},l.jsonl),{},{maxDepth:1/0,data:d.map(async b=>{let[d,e]=await b,f=c.calls[0];if(d){var g,h;return{error:ac({config:l,ctx:q.valueOrUndefined(),error:d,input:f.result(),path:f.path,type:null!=(g=null==(h=f.procedure)?void 0:h._def.type)?g:"unknown"})}}let i=au(e.data)?av(e.data,a.req.signal):Promise.resolve(e.data);return{result:Promise.resolve({data:i})}}),serialize:a=>l.transformer.output.serialize(a),onError:b=>{var d,e;null==(d=a.onError)||d.call(a,{error:ag(b),path:void 0,input:void 0,ctx:q.valueOrUndefined(),req:a.req,type:null!=(e=null==c?void 0:c.type)?e:"unknown"})},formatError(a){var b,d;let e=null==c?void 0:c.calls[a.path[0]],f=ag(a.error),g=null==e?void 0:e.result(),h=null==e?void 0:e.path,i=null!=(b=null==e||null==(d=e.procedure)?void 0:d._def.type)?b:"unknown";return ac({config:l,ctx:q.valueOrUndefined(),error:f,input:g,path:h,type:i})}}));return new Response(e,{headers:k,status:b.status})}k.set("content-type","application/json");let e=(await Promise.all(d)).map(a=>{let[b,c]=a;return b?a:bo(c.data)?[new ah({code:"UNSUPPORTED_MEDIA_TYPE",message:"Cannot use stream-like response in non-streaming request - use httpBatchStreamLink"}),void 0]:a}),f=e.map(([a,b],d)=>{let e=c.calls[d];if(a){var f,g;return{error:ac({config:l,ctx:q.valueOrUndefined(),error:a,input:e.result(),path:e.path,type:null!=(f=null==(g=e.procedure)?void 0:g._def.type)?f:"unknown"})}}return{result:{data:b.data}}}),g=e.map(([a])=>a).filter(Boolean),h=bn({ctx:q.valueOrUndefined(),info:c,responseMeta:a.responseMeta,untransformedJSON:f,errors:g,headers:k});return new Response(JSON.stringify(al(l,f)),{status:h.status,headers:k})}catch(i){let[b,c]=p,d=q.valueOrUndefined(),{error:e,untransformedJSON:f,body:g}=function(a,b){let{router:c,req:d,onError:e}=b.opts,f=ag(a);null==e||e({error:f,path:b.path,input:b.input,ctx:b.ctx,type:b.type,req:d});let g={error:ac({config:c._def._config,error:f,type:b.type,path:b.path,input:b.input,ctx:b.ctx})},h=JSON.stringify(al(c._def._config,g));return{error:f,untransformedJSON:g,body:h}}(i,{opts:a,ctx:q.valueOrUndefined(),type:null!=(h=null==c?void 0:c.type)?h:"unknown"});return new Response(g,{status:bn({ctx:d,info:c,responseMeta:a.responseMeta,untransformedJSON:f,errors:[e],headers:k}).status,headers:k})}}var bq=T(aa(),1);let br=a=>a=(a=a.startsWith("/")?a.slice(1):a).endsWith("/")?a.slice(0,-1):a;async function bs(a){let b=new Headers,c=async c=>{var d;return null==(d=a.createContext)?void 0:d.call(a,(0,bq.default)({req:a.req,resHeaders:b},c))},d=br(new URL(a.req.url).pathname),e=br(a.endpoint),f=br(d.slice(e.length));return await bp((0,bq.default)((0,bq.default)({},a),{},{req:a.req,createContext:c,path:f,error:null,onError(b){var c;null==a||null==(c=a.onError)||c.call(a,(0,bq.default)((0,bq.default)({},b),{},{req:a.req}))},responseMeta(c){var d;let e=null==(d=a.responseMeta)?void 0:d.call(a,c);if(null==e?void 0:e.headers)if(e.headers instanceof Headers)for(let[a,c]of e.headers.entries())b.append(a,c);else for(let[a,c]of Object.entries(e.headers))if(Array.isArray(c))for(let d of c)b.append(a,d);else"string"==typeof c&&b.set(a,c);return{headers:b,status:null==e?void 0:e.status}}}))}var bt=T(aa(),1);let bu="middlewareMarker";var bv=T(_(),1),bw=class extends Error{constructor(a){var b;super(null==(b=a[0])?void 0:b.message),(0,bv.default)(this,"issues",void 0),this.name="SchemaError",this.issues=a}};function bx(a){let b="~standard"in a;if("function"==typeof a&&"function"==typeof a.assert)return a.assert.bind(a);if("function"==typeof a&&!b)return a;if("function"==typeof a.parseAsync)return a.parseAsync.bind(a);if("function"==typeof a.parse)return a.parse.bind(a);if("function"==typeof a.validateSync)return a.validateSync.bind(a);if("function"==typeof a.create)return a.create.bind(a);if("function"==typeof a.assert)return b=>(a.assert(b),b);if(b)return async b=>{let c=await a["~standard"].validate(b);if(c.issues)throw new bw(c.issues);return c.value};throw Error("Could not find a validator fn")}var by=S({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutPropertiesLoose.js"(a,b){b.exports=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(b.includes(d))continue;c[d]=a[d]}return c},b.exports.__esModule=!0,b.exports.default=b.exports}}),bz=T(S({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutProperties.js"(a,b){var c=by();b.exports=function(a,b){if(null==a)return{};var d,e,f=c(a,b);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(a);for(e=0;e<g.length;e++)d=g[e],b.includes(d)||({}).propertyIsEnumerable.call(a,d)&&(f[d]=a[d])}return f},b.exports.__esModule=!0,b.exports.default=b.exports}})(),1),bA=T(aa(),1);let bB=["middlewares","inputs","meta"];function bC(a,b){let{middlewares:c=[],inputs:d,meta:e}=b,f=(0,bz.default)(b,bB);return bD((0,bA.default)((0,bA.default)({},E(a,f)),{},{inputs:[...a.inputs,...null!=d?d:[]],middlewares:[...a.middlewares,...c],meta:a.meta&&e?(0,bA.default)((0,bA.default)({},a.meta),e):null!=e?e:a.meta}))}function bD(a={}){let b=(0,bA.default)({procedure:!0,inputs:[],middlewares:[]},a);return{_def:b,input(a){let c=bx(a);return bC(b,{inputs:[a],middlewares:[function(a){let b=async function(b){let c,d=await b.getRawInput();try{c=await a(d)}catch(a){throw new ah({code:"BAD_REQUEST",cause:a})}let e=F(b.input)&&F(c)?(0,bt.default)((0,bt.default)({},b.input),c):c;return b.next({input:e})};return b._type="input",b}(c)]})},output(a){let c=bx(a);return bC(b,{output:a,middlewares:[function(a){let b=async function({next:b}){let c=await b();if(!c.ok)return c;try{let b=await a(c.data);return(0,bt.default)((0,bt.default)({},c),{},{data:b})}catch(a){throw new ah({message:"Output validation failed",code:"INTERNAL_SERVER_ERROR",cause:a})}};return b._type="output",b}(c)]})},meta:a=>bC(b,{meta:a}),use:a=>bC(b,{middlewares:"_middlewares"in a?a._middlewares:[a]}),unstable_concat:a=>bC(b,a._def),concat:a=>bC(b,a._def),query:a=>bE((0,bA.default)((0,bA.default)({},b),{},{type:"query"}),a),mutation:a=>bE((0,bA.default)((0,bA.default)({},b),{},{type:"mutation"}),a),subscription:a=>bE((0,bA.default)((0,bA.default)({},b),{},{type:"subscription"}),a),experimental_caller:a=>bC(b,{caller:a})}}function bE(a,b){let c=bC(a,{resolver:b,middlewares:[async function(a){return{marker:bu,ok:!0,data:await b(a),ctx:a.ctx}}]}),d=(0,bA.default)((0,bA.default)({},c._def),{},{type:a.type,experimental_caller:!!c._def.caller,meta:c._def.meta,$types:null}),e=function(a){async function b(b){if(!b||!("getRawInput"in b))throw Error(bF);let c=await bG(0,a,b);if(!c)throw new ah({code:"INTERNAL_SERVER_ERROR",message:"No result from middlewares - did you forget to `return next()`?"});if(!c.ok)throw c.error;return c.data}return b._def=a,b.procedure=!0,b.meta=a.meta,b}(c._def),f=c._def.caller;if(!f)return e;let g=async(...a)=>await f({args:a,invoke:e,_def:d});return g._def=d,g}let bF=`
This is a client-only function.
If you want to call this function on the server, see https://trpc.io/docs/v11/server/server-side-calls
`.trim();async function bG(a,b,c){try{let d=b.middlewares[a];return await d((0,bA.default)((0,bA.default)({},c),{},{meta:b.meta,input:c.input,next(d){var e;return bG(a+1,b,(0,bA.default)((0,bA.default)({},c),{},{ctx:(null==d?void 0:d.ctx)?(0,bA.default)((0,bA.default)({},c.ctx),d.ctx):c.ctx,input:d&&"input"in d?d.input:c.input,getRawInput:null!=(e=null==d?void 0:d.getRawInput)?e:c.getRawInput}))}}))}catch(a){return{ok:!1,error:ag(a),marker:bu}}}let bH="undefined"==typeof window||"Deno"in window||(null==(i=globalThis.process)||null==(i=i.env)?void 0:i.NODE_ENV)==="test"||!!(null==(j=globalThis.process)||null==(j=j.env)?void 0:j.JEST_WORKER_ID)||!!(null==(k=globalThis.process)||null==(k=k.env)?void 0:k.VITEST_WORKER_ID);var bI=T(aa(),1);let bJ=new class a{context(){return new a}meta(){return new a}create(a){var b,c,d,e,f,g,h,i;let j=(0,bI.default)((0,bI.default)({},a),{},{transformer:"input"in(i=null!=(b=null==a?void 0:a.transformer)?b:aj)?i:{input:i,output:i},isDev:null!=(c=null==a?void 0:a.isDev)?c:(null==(d=globalThis.process)?void 0:d.env.NODE_ENV)!=="production",allowOutsideOfServer:null!=(e=null==a?void 0:a.allowOutsideOfServer)&&e,errorFormatter:null!=(f=null==a?void 0:a.errorFormatter)?f:ad,isServer:null!=(g=null==a?void 0:a.isServer)?g:bH,$types:null});if(!(null!=(h=null==a?void 0:a.isServer)?h:bH)&&(null==a?void 0:a.allowOutsideOfServer)!==!0)throw Error("You're trying to use @trpc/server in a non-server environment. This is not supported by default.");return{_config:j,procedure:bD({meta:null==a?void 0:a.defaultMeta}),middleware:function(a){return function a(b){return{_middlewares:b,unstable_pipe:c=>a([...b,..."_middlewares"in c?c._middlewares:[c]])}}([a])},router:ap(j),mergeRouters:as,createCallerFactory:ar()}}};class bK{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(a,b){this.keyToValue.set(a,b),this.valueToKey.set(b,a)}getByKey(a){return this.keyToValue.get(a)}getByValue(a){return this.valueToKey.get(a)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class bL{constructor(a){this.generateIdentifier=a,this.kv=new bK}register(a,b){this.kv.getByValue(a)||(b||(b=this.generateIdentifier(a)),this.kv.set(b,a))}clear(){this.kv.clear()}getIdentifier(a){return this.kv.getByValue(a)}getValue(a){return this.kv.getByKey(a)}}class bM extends bL{constructor(){super(a=>a.name),this.classToAllowedProps=new Map}register(a,b){"object"==typeof b?(b.allowProps&&this.classToAllowedProps.set(a,b.allowProps),super.register(a,b.identifier)):super.register(a,b)}getAllowedProps(a){return this.classToAllowedProps.get(a)}}function bN(a,b){Object.entries(a).forEach(([a,c])=>b(c,a))}function bO(a,b){return -1!==a.indexOf(b)}function bP(a,b){for(let c=0;c<a.length;c++){let d=a[c];if(b(d))return d}}class bQ{constructor(){this.transfomers={}}register(a){this.transfomers[a.name]=a}findApplicable(a){return function(a,b){let c=function(a){if("values"in Object)return Object.values(a);let b=[];for(let c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b}(a);if("find"in c)return c.find(b);for(let a=0;a<c.length;a++){let d=c[a];if(b(d))return d}}(this.transfomers,b=>b.isApplicable(a))}findByName(a){return this.transfomers[a]}}let bR=a=>void 0===a,bS=a=>"object"==typeof a&&null!==a&&a!==Object.prototype&&(null===Object.getPrototypeOf(a)||Object.getPrototypeOf(a)===Object.prototype),bT=a=>bS(a)&&0===Object.keys(a).length,bU=a=>Array.isArray(a),bV=a=>a instanceof Map,bW=a=>a instanceof Set,bX=a=>"Symbol"===Object.prototype.toString.call(a).slice(8,-1),bY=a=>"number"==typeof a&&isNaN(a),bZ=a=>a.replace(/\./g,"\\."),b$=a=>a.map(String).map(bZ).join("."),b_=a=>{let b=[],c="";for(let d=0;d<a.length;d++){let e=a.charAt(d);if("\\"===e&&"."===a.charAt(d+1)){c+=".",d++;continue}if("."===e){b.push(c),c="";continue}c+=e}let d=c;return b.push(d),b};function b0(a,b,c,d){return{isApplicable:a,annotation:b,transform:c,untransform:d}}let b1=[b0(bR,"undefined",()=>null,()=>void 0),b0(a=>"bigint"==typeof a,"bigint",a=>a.toString(),a=>"undefined"!=typeof BigInt?BigInt(a):(console.error("Please add a BigInt polyfill."),a)),b0(a=>a instanceof Date&&!isNaN(a.valueOf()),"Date",a=>a.toISOString(),a=>new Date(a)),b0(a=>a instanceof Error,"Error",(a,b)=>{let c={name:a.name,message:a.message};return b.allowedErrorProps.forEach(b=>{c[b]=a[b]}),c},(a,b)=>{let c=Error(a.message);return c.name=a.name,c.stack=a.stack,b.allowedErrorProps.forEach(b=>{c[b]=a[b]}),c}),b0(a=>a instanceof RegExp,"regexp",a=>""+a,a=>new RegExp(a.slice(1,a.lastIndexOf("/")),a.slice(a.lastIndexOf("/")+1))),b0(bW,"set",a=>[...a.values()],a=>new Set(a)),b0(bV,"map",a=>[...a.entries()],a=>new Map(a)),b0(a=>bY(a)||(a=>a===1/0||a===-1/0)(a),"number",a=>bY(a)?"NaN":a>0?"Infinity":"-Infinity",Number),b0(a=>0===a&&1/a==-1/0,"number",()=>"-0",Number),b0(a=>a instanceof URL,"URL",a=>a.toString(),a=>new URL(a))];function b2(a,b,c,d){return{isApplicable:a,annotation:b,transform:c,untransform:d}}let b3=b2((a,b)=>!!bX(a)&&!!b.symbolRegistry.getIdentifier(a),(a,b)=>["symbol",b.symbolRegistry.getIdentifier(a)],a=>a.description,(a,b,c)=>{let d=c.symbolRegistry.getValue(b[1]);if(!d)throw Error("Trying to deserialize unknown symbol");return d}),b4=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((a,b)=>(a[b.name]=b,a),{}),b5=b2(a=>ArrayBuffer.isView(a)&&!(a instanceof DataView),a=>["typed-array",a.constructor.name],a=>[...a],(a,b)=>{let c=b4[b[1]];if(!c)throw Error("Trying to deserialize unknown typed array");return new c(a)});function b6(a,b){return!!a?.constructor&&!!b.classRegistry.getIdentifier(a.constructor)}let b7=b2(b6,(a,b)=>["class",b.classRegistry.getIdentifier(a.constructor)],(a,b)=>{let c=b.classRegistry.getAllowedProps(a.constructor);if(!c)return{...a};let d={};return c.forEach(b=>{d[b]=a[b]}),d},(a,b,c)=>{let d=c.classRegistry.getValue(b[1]);if(!d)throw Error(`Trying to deserialize unknown class '${b[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(d.prototype),a)}),b8=b2((a,b)=>!!b.customTransformerRegistry.findApplicable(a),(a,b)=>["custom",b.customTransformerRegistry.findApplicable(a).name],(a,b)=>b.customTransformerRegistry.findApplicable(a).serialize(a),(a,b,c)=>{let d=c.customTransformerRegistry.findByName(b[1]);if(!d)throw Error("Trying to deserialize unknown custom value");return d.deserialize(a)}),b9=[b7,b3,b8,b5],ca=(a,b)=>{let c=bP(b9,c=>c.isApplicable(a,b));if(c)return{value:c.transform(a,b),type:c.annotation(a,b)};let d=bP(b1,c=>c.isApplicable(a,b));if(d)return{value:d.transform(a,b),type:d.annotation}},cb={};b1.forEach(a=>{cb[a.annotation]=a});let cc=(a,b)=>{if(b>a.size)throw Error("index out of bounds");let c=a.keys();for(;b>0;)c.next(),b--;return c.next().value};function cd(a){if(bO(a,"__proto__"))throw Error("__proto__ is not allowed as a property");if(bO(a,"prototype"))throw Error("prototype is not allowed as a property");if(bO(a,"constructor"))throw Error("constructor is not allowed as a property")}let ce=(a,b,c)=>{if(cd(b),0===b.length)return c(a);let d=a;for(let a=0;a<b.length-1;a++){let c=b[a];if(bU(d))d=d[+c];else if(bS(d))d=d[c];else if(bW(d))d=cc(d,+c);else if(bV(d)){if(a===b.length-2)break;let e=+c,f=0==+b[++a]?"key":"value",g=cc(d,e);switch(f){case"key":d=g;break;case"value":d=d.get(g)}}}let e=b[b.length-1];if(bU(d)?d[+e]=c(d[+e]):bS(d)&&(d[e]=c(d[e])),bW(d)){let a=cc(d,+e),b=c(a);a!==b&&(d.delete(a),d.add(b))}if(bV(d)){let a=cc(d,+b[b.length-2]);switch(0==+e?"key":"value"){case"key":{let b=c(a);d.set(b,d.get(a)),b!==a&&d.delete(a);break}case"value":d.set(a,c(d.get(a)))}}return a},cf=(a,b,c,d,e=[],f=[],g=new Map)=>{let h=(a=>"boolean"==typeof a||null===a||bR(a)||(a=>"number"==typeof a&&!isNaN(a))(a)||"string"==typeof a||bX(a))(a);if(!h){!function(a,b,c){let d=c.get(a);d?d.push(b):c.set(a,[b])}(a,e,b);let c=g.get(a);if(c)return d?{transformedValue:null}:c}if(!((a,b)=>bS(a)||bU(a)||bV(a)||bW(a)||b6(a,b))(a,c)){let b=ca(a,c),d=b?{transformedValue:b.value,annotations:[b.type]}:{transformedValue:a};return h||g.set(a,d),d}if(bO(f,a))return{transformedValue:null};let i=ca(a,c),j=i?.value??a,k=bU(j)?[]:{},l={};bN(j,(h,i)=>{if("__proto__"===i||"constructor"===i||"prototype"===i)throw Error(`Detected property ${i}. This is a prototype pollution risk, please remove it from your object.`);let j=cf(h,b,c,d,[...e,i],[...f,a],g);k[i]=j.transformedValue,bU(j.annotations)?l[i]=j.annotations:bS(j.annotations)&&bN(j.annotations,(a,b)=>{l[bZ(i)+"."+b]=a})});let m=bT(l)?{transformedValue:k,annotations:i?[i.type]:void 0}:{transformedValue:k,annotations:i?[i.type,l]:l};return h||g.set(a,m),m};function cg(a){return Object.prototype.toString.call(a).slice(8,-1)}function ch(a){return"Array"===cg(a)}e=function(a){return"Null"===cg(a)},f=function(a){return"Undefined"===cg(a)};class ci{constructor({dedupe:a=!1}={}){this.classRegistry=new bM,this.symbolRegistry=new bL(a=>a.description??""),this.customTransformerRegistry=new bQ,this.allowedErrorProps=[],this.dedupe=a}serialize(a){let b=new Map,c=cf(a,b,this,this.dedupe),d={json:c.transformedValue};c.annotations&&(d.meta={...d.meta,values:c.annotations});let e=function(a,b){let c,d={};return(a.forEach(a=>{if(a.length<=1)return;b||(a=a.map(a=>a.map(String)).sort((a,b)=>a.length-b.length));let[e,...f]=a;0===e.length?c=f.map(b$):d[b$(e)]=f.map(b$)}),c)?bT(d)?[c]:[c,d]:bT(d)?void 0:d}(b,this.dedupe);return e&&(d.meta={...d.meta,referentialEqualities:e}),d}deserialize(a){var b,c,d;let{json:e,meta:f}=a,g=function a(b,c={}){return ch(b)?b.map(b=>a(b,c)):!function(a){if("Object"!==cg(a))return!1;let b=Object.getPrototypeOf(a);return!!b&&b.constructor===Object&&b===Object.prototype}(b)?b:[...Object.getOwnPropertyNames(b),...Object.getOwnPropertySymbols(b)].reduce((d,e)=>{if(ch(c.props)&&!c.props.includes(e))return d;let f=a(b[e],c);var g=c.nonenumerable;let h=({}).propertyIsEnumerable.call(b,e)?"enumerable":"nonenumerable";return"enumerable"===h&&(d[e]=f),g&&"nonenumerable"===h&&Object.defineProperty(d,e,{value:f,enumerable:!1,writable:!0,configurable:!0}),d},{})}(e);return f?.values&&(b=g,c=f.values,d=this,function a(b,c,d=[]){if(!b)return;if(!bU(b))return void bN(b,(b,e)=>a(b,c,[...d,...b_(e)]));let[e,f]=b;f&&bN(f,(b,e)=>{a(b,c,[...d,...b_(e)])}),c(e,d)}(c,(a,c)=>{b=ce(b,c,b=>((a,b,c)=>{if(bU(b))switch(b[0]){case"symbol":return b3.untransform(a,b,c);case"class":return b7.untransform(a,b,c);case"custom":return b8.untransform(a,b,c);case"typed-array":return b5.untransform(a,b,c);default:throw Error("Unknown transformation: "+b)}{let d=cb[b];if(!d)throw Error("Unknown transformation: "+b);return d.untransform(a,c)}})(b,a,d))}),g=b),f?.referentialEqualities&&(g=function(a,b){function c(b,c){let d=((a,b)=>{cd(b);for(let c=0;c<b.length;c++){let d=b[c];if(bW(a))a=cc(a,+d);else if(bV(a)){let e=+d,f=0==+b[++c]?"key":"value",g=cc(a,e);switch(f){case"key":a=g;break;case"value":a=a.get(g)}}else a=a[d]}return a})(a,b_(c));b.map(b_).forEach(b=>{a=ce(a,b,()=>d)})}if(bU(b)){let[d,e]=b;d.forEach(b=>{a=ce(a,b_(b),()=>a)}),e&&bN(e,c)}else bN(b,c);return a}(g,f.referentialEqualities)),g}stringify(a){return JSON.stringify(this.serialize(a))}parse(a){return this.deserialize(JSON.parse(a))}registerClass(a,b){this.classRegistry.register(a,b)}registerSymbol(a,b){this.symbolRegistry.register(a,b)}registerCustom(a,b){this.customTransformerRegistry.register({name:b,...a})}allowErrorProps(...a){this.allowedErrorProps.push(...a)}}ci.defaultInstance=new ci,ci.serialize=ci.defaultInstance.serialize.bind(ci.defaultInstance),ci.deserialize=ci.defaultInstance.deserialize.bind(ci.defaultInstance),ci.stringify=ci.defaultInstance.stringify.bind(ci.defaultInstance),ci.parse=ci.defaultInstance.parse.bind(ci.defaultInstance),ci.registerClass=ci.defaultInstance.registerClass.bind(ci.defaultInstance),ci.registerSymbol=ci.defaultInstance.registerSymbol.bind(ci.defaultInstance),ci.registerCustom=ci.defaultInstance.registerCustom.bind(ci.defaultInstance),ci.allowErrorProps=ci.defaultInstance.allowErrorProps.bind(ci.defaultInstance),ci.serialize,ci.deserialize,ci.stringify,ci.parse,ci.registerClass,ci.registerCustom,ci.registerSymbol,ci.allowErrorProps;let cj=bJ.context().create({transformer:ci}),ck=cj.router,cl=cj.procedure,cm=cj.middleware(({ctx:a,next:b})=>{if(!a.userId)throw new ah({code:"UNAUTHORIZED"});return b({ctx:a})}),cn=cj.procedure.use(cm);var co=c(36930),cp=c(47833),cq=c(55249);async function cr(a,b){let c=`${a}/${b}`,d=(0,cp.UU)(cq._.SUPABASE_URL,cq._.SUPABASE_SERVICE_ROLE,{auth:{persistSession:!1}}),{data:e,error:f}=await d.storage.from("user-uploads").createSignedUploadUrl(c);if(f||!e)throw Error(f?.message??"Failed to create signed upload URL");return{path:c,url:e.signedUrl}}let cs=ck({createUrl:cn.input(co.Ik({filename:co.Yj().min(1)})).mutation(async({ctx:a,input:b})=>{let c=a.userId;if(!c)throw Error("Unauthorized");let{path:d,url:e}=await cr(c,b.filename);return{path:d,url:e}})}),ct=require("crypto");var cu=c.n(ct);let cv=ck({enqueue:cn.input(co.Ik({text:co.Yj().min(1),table:co.Yj().min(1).default("embeddings_index"),id:co.Yj().uuid().optional(),vectorColumn:co.Yj().min(1).default("embedding"),contentColumn:co.Yj().min(1).default("content")})).mutation(async({input:a})=>{var b;let c=a.id??(b=a.text,cu().createHash("sha256").update(b,"utf8").digest("hex").slice(0,32)),d=new URL("/functions/v1/embeddings",process.env.SUPABASE_URL),e=await fetch(d.toString(),{method:"POST",headers:{"content-type":"application/json",authorization:`Bearer ${process.env.SUPABASE_SERVICE_ROLE}`},body:JSON.stringify({jobId:c,text:a.text,table:a.table,vectorColumn:a.vectorColumn,contentColumn:a.contentColumn})});if(!e.ok){let a=await e.text().catch(()=>"");throw Error(`embeddings enqueue failed (${e.status}): ${a}`)}return{ok:!0,jobId:c,data:await e.json().catch(()=>({}))}})}),cw=require("node:crypto");var cx=c.n(cw);function cy(a){return a.replace(/^artifacts\/+/,"")}function cz(a){return a.replace(/\s+/g,"-").replace(/[\[\]\?#&<>:"%\\{}|\^~`]/g,"_")}function cA(a,b){let c=process.env.SUPABASE_URL,d=process.env.SUPABASE_SERVICE_ROLE;if(!c||!d)throw Error("Supabase credentials missing");let e=(0,cp.UU)(c,d,{auth:{persistSession:!1}});async function f(){let{error:a}=await e.storage.createBucket("artifacts",{public:!1});if(a&&!/already exists/i.test(a.message))throw Error(`createBucket(artifacts) failed: ${a.message}`)}return{async saveArtifact(c,d){var g;let h;await f();let i=(g=cy(c).replace(RegExp(`^${a}/`),b?`${a}/${cz(b)}/`:`${a}/`),(h=(h=(h=cy(g).replace(/\\/g,"/").trim()).replace(/^\/+|\/+$/g,"")).split("/").filter(a=>a&&"."!==a&&".."!==a).map(cz).join("/"))||(h="artifact"),h.length>900&&(h=h.slice(0,900)),h),j="string"==typeof d?new TextEncoder().encode(d):d,k=function(a,b){let c=a.split(".").pop()?.toLowerCase();return"json"===c?"application/json; charset=utf-8":"md"===c?"text/markdown; charset=utf-8":["ts","tsx","js","jsx","sql","sh","txt","ejs","env","toml","yaml","yml","cjs","mjs"].includes(c??"")||b?"text/plain; charset=utf-8":"application/octet-stream"}(i,"string"==typeof d),{error:l}=await e.storage.from("artifacts").upload(i,j,{upsert:!0,contentType:k});if(l){if(/signature verification failed/i.test(l.message))throw Error("Supabase Storage auth failed: check SUPABASE_URL and SUPABASE_SERVICE_ROLE.");throw Error(`Supabase upload failed (${i}): ${l.message}`)}}}}async function cB(a){try{let b=await (({"profile.normalize":()=>Promise.resolve().then(c.bind(c,13967)),"trpc.server":()=>c.e(579).then(c.bind(c,20960)),"rest.public":()=>c.e(218).then(c.bind(c,24218)),"trpc.client":()=>c.e(431).then(c.bind(c,96431)),"next.app.router":()=>c.e(272).then(c.bind(c,62272)),"upload.direct":()=>c.e(851).then(c.bind(c,851)),"ai.openai.setup":()=>c.e(230).then(c.bind(c,87230)),"ai.anthropic.setup":()=>c.e(124).then(c.bind(c,59124)),"ai.langgraph.flow":()=>c.e(933).then(c.bind(c,80933)),"ai.embedder":()=>c.e(363).then(c.bind(c,63363)),"realtime.client":()=>c.e(325).then(c.bind(c,14325)),"ui.screens":()=>c.e(98).then(c.bind(c,38098)),"materialize.repo":()=>c.e(338).then(c.bind(c,8338)),"vercel.config":()=>c.e(526).then(c.bind(c,50526)),"monitoring.basics":()=>c.e(544).then(c.bind(c,36544)),"github.setup":()=>c.e(511).then(c.bind(c,85511)),"deploy.docs":()=>c.e(523).then(c.bind(c,64523))})[a]?.()??Promise.reject());return b.default||Object.values(b)[0]}catch{return null}}function cC(a){return cx().createHash("sha256").update(JSON.stringify(a)).digest("hex").slice(0,12)}async function cD(a,b,c="deterministic"){let d=cC({description:a,answers:b}),e="unique"===c?`${cC({t:Date.now(),r:Math.random()})}`:function(){let a=new Date().toISOString().replace(/:/g,"_"),b=Math.random().toString(36).slice(2,8);return`${a}-${b}`}(),f=cA(d,e),g={orchestrationId:d,correlationId:d,logger:{info:a=>console.log("[orc]",JSON.stringify(a)),warn:a=>console.warn("[orc]",JSON.stringify(a)),error:a=>console.error("[orc]",JSON.stringify(a))},storage:f},h=[];for(let c of["profile.normalize","trpc.server","rest.public","trpc.client","next.app.router","upload.direct","ai.openai.setup","ai.anthropic.setup","ai.langgraph.flow","ai.embedder","realtime.client","ui.screens","materialize.repo","vercel.config","monitoring.basics","github.setup","deploy.docs"]){let d=await cB(c);if(!d){g.logger.warn({msg:"node.missing",id:c});continue}let f={};"profile.normalize"===c&&(f=b?{description:a,answers:b}:a),"materialize.repo"===c&&(f={files:h,runId:e}),g.logger.info({msg:"node.start",id:c});let i=await d.run(f,g);i&&Array.isArray(i.files)&&h.push(...i.files),g.logger.info({msg:"node.done",id:c,produced:Array.isArray(i?.files)?i.files:[]})}return{orchestrationId:d,runId:e,files:h}}var cE=c(13967);let cF=co.Ik({targets:co.k5(["mobile","desktop","both"]).default("both"),uploads:co.Ik({enabled:co.zM().default(!1),types:co.YO(co.k5(["audio","code","image","text","pdf","video"])).default([])}).default({enabled:!1,types:[]}),downloads:co.Ik({enabled:co.zM().default(!1),types:co.YO(co.k5(["audio","code","image","text","pdf","video"])).default([])}).default({enabled:!1,types:[]}),business:co.Ik({isBusiness:co.zM().default(!1),model:co.k5(["subscription","services","products"]).optional()}).default({isBusiness:!1}),audience:co.Yj().default("")}).strict(),cG=co.k5(["deterministic","unique"]).default("deterministic"),cH=ck({preview:cl.input(co.Ik({description:co.Yj().min(5),answers:cF.optional()})).mutation(async({input:a})=>{let b="preview-"+Math.random().toString(36).slice(2,8),c=function(){let a=new Date().toISOString().replace(/:/g,"_"),b=Math.random().toString(36).slice(2,8);return`${a}-${b}`}(),d=cA(b,c),e=await cE.default.run({description:a.description,answers:a.answers},{orchestrationId:b,correlationId:b,logger:{info:()=>{},warn:()=>{},error:()=>{}},storage:d});return{orchestrationId:b,runId:c,profile:e.profile}}),start:cl.input(co.Ik({description:co.Yj().min(5),answers:cF.optional(),mode:cG.optional()})).mutation(async({input:a})=>await cD(a.description,a.answers,a.mode??"deterministic"))}),cI=ck({list:cl.query(async({ctx:a})=>{let{data:b,error:c}=await a.supabase.from("posts").select("*").order("created_at",{ascending:!1});if(c)throw Error(c.message);return b}),byId:cl.input(co.Ik({id:co.Yj().uuid()})).query(async({ctx:a,input:b})=>{let{data:c,error:d}=await a.supabase.from("posts").select("*").eq("id",b.id).maybeSingle();if(d)throw Error(d.message);return c}),create:cn.input(co.Ik({title:co.Yj().min(1),content:co.Yj().optional()})).mutation(async({ctx:a,input:b})=>{let{error:c,data:d}=await a.supabase.from("posts").insert({title:b.title,content:b.content??null}).select("*").single();if(c)throw Error(c.message);return d})}),cJ=ck({ping:cl.query(()=>"pong")}),cK=ck({health:cJ,uploads:cs,embeddings:cv,orchestration:cH,posts:cI});var cL=c(57099);async function cM(a){let b=(0,cL.S2)(),c=(0,cL.Bb)(a.req),d=await (0,cL.ZJ)(c);return{supabase:b,userId:d?.id??null}}let cN="nodejs",cO=a=>bs({endpoint:"/api/trpc",req:a,router:cK,createContext:({req:a})=>cM({req:a}),onError({error:a,path:b}){console.error("tRPC error on",b,a)}}),cP=new m.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/trpc/[trpc]/route",pathname:"/api/trpc/[trpc]",filename:"route",bundlePath:"app/api/trpc/[trpc]/route"},distDir:".next",relativeProjectDir:"",resolvedPagePath:"C:\\Users\\seggu\\LESiAB\\app\\api\\trpc\\[trpc]\\route.ts",nextConfigOutput:"",userland:l}),{workAsyncStorage:cQ,workUnitAsyncStorage:cR,serverHooks:cS}=cP;function cT(){return(0,o.patchFetch)({workAsyncStorage:cQ,workUnitAsyncStorage:cR})}async function cU(a,b,c){var d;let e="/api/trpc/[trpc]/route";"/index"===e&&(e="/");let f=await cP.prepare(a,b,{srcPage:e,multiZoneDraftMode:!1});if(!f)return b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve()),null;let{buildId:g,params:h,nextConfig:i,isDraftMode:j,prerenderManifest:k,routerServerContext:l,isOnDemandRevalidate:m,revalidateOnlyGenerated:o,resolvedPathname:C}=f,D=(0,r.normalizeAppPath)(e),E=!!(k.dynamicRoutes[D]||k.routes[C]);if(E&&!j){let a=!!k.routes[C],b=k.dynamicRoutes[D];if(b&&!1===b.fallback&&!a)throw new A.NoFallbackError}let F=null;!E||cP.isDev||j||(F="/index"===(F=C)?"/":F);let G=!0===cP.isDev||!E,H=E&&!G,I=a.method||"GET",J=(0,q.getTracer)(),K=J.getActiveScopeSpan(),L={params:h,prerenderManifest:k,renderOpts:{experimental:{cacheComponents:!!i.experimental.cacheComponents,authInterrupts:!!i.experimental.authInterrupts},supportsDynamicResponse:G,incrementalCache:(0,p.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:null==(d=i.experimental)?void 0:d.cacheLife,isRevalidate:H,waitUntil:c.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:void 0,onInstrumentationRequestError:(b,c,d)=>cP.onRequestError(a,b,d,l)},sharedContext:{buildId:g}},M=new s.NodeNextRequest(a),N=new s.NodeNextResponse(b),O=t.NextRequestAdapter.fromNodeNextRequest(M,(0,t.signalFromNodeResponse)(b));try{let d=async c=>cP.handle(O,L).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=J.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==u.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${I} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${I} ${a.url}`)}),f=async f=>{var g,h;let q=async({previousCacheEntry:g})=>{try{if(!(0,p.getRequestMeta)(a,"minimalMode")&&m&&o&&!g)return b.statusCode=404,b.setHeader("x-nextjs-cache","REVALIDATED"),b.end("This page could not be found"),null;let e=await d(f);a.fetchMetrics=L.renderOpts.fetchMetrics;let h=L.renderOpts.pendingWaitUntil;h&&c.waitUntil&&(c.waitUntil(h),h=void 0);let i=L.renderOpts.collectedTags;if(!E)return await (0,w.I)(M,N,e,L.renderOpts.pendingWaitUntil),null;{let a=await e.blob(),b=(0,x.toNodeOutgoingHttpHeaders)(e.headers);i&&(b[z.NEXT_CACHE_TAGS_HEADER]=i),!b["content-type"]&&a.type&&(b["content-type"]=a.type);let c=void 0!==L.renderOpts.collectedRevalidate&&!(L.renderOpts.collectedRevalidate>=z.INFINITE_CACHE)&&L.renderOpts.collectedRevalidate,d=void 0===L.renderOpts.collectedExpire||L.renderOpts.collectedExpire>=z.INFINITE_CACHE?void 0:L.renderOpts.collectedExpire;return{value:{kind:B.CachedRouteKind.APP_ROUTE,status:e.status,body:Buffer.from(await a.arrayBuffer()),headers:b},cacheControl:{revalidate:c,expire:d}}}}catch(b){throw(null==g?void 0:g.isStale)&&await cP.onRequestError(a,b,{routerKind:"App Router",routePath:e,routeType:"route",revalidateReason:(0,v.c)({isRevalidate:H,isOnDemandRevalidate:m})},l),b}},r=await cP.handleResponse({req:a,nextConfig:i,cacheKey:F,routeKind:n.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:k,isRoutePPREnabled:!1,isOnDemandRevalidate:m,revalidateOnlyGenerated:o,responseGenerator:q,waitUntil:c.waitUntil});if(!E)return null;if((null==r||null==(g=r.value)?void 0:g.kind)!==B.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==r||null==(h=r.value)?void 0:h.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});(0,p.getRequestMeta)(a,"minimalMode")||b.setHeader("x-nextjs-cache",m?"REVALIDATED":r.isMiss?"MISS":r.isStale?"STALE":"HIT"),j&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let s=(0,x.fromNodeOutgoingHttpHeaders)(r.value.headers);return(0,p.getRequestMeta)(a,"minimalMode")&&E||s.delete(z.NEXT_CACHE_TAGS_HEADER),!r.cacheControl||b.getHeader("Cache-Control")||s.get("Cache-Control")||s.set("Cache-Control",(0,y.getCacheControlHeader)(r.cacheControl)),await (0,w.I)(M,N,new Response(r.value.body,{headers:s,status:r.value.status||200})),null};K?await f(K):await J.withPropagatedContext(a.headers,()=>J.trace(u.BaseServerSpan.handleRequest,{spanName:`${I} ${a.url}`,kind:q.SpanKind.SERVER,attributes:{"http.method":I,"http.target":a.url}},f))}catch(b){if(K||b instanceof A.NoFallbackError||await cP.onRequestError(a,b,{routerKind:"App Router",routePath:D,routeType:"route",revalidateReason:(0,v.c)({isRevalidate:H,isOnDemandRevalidate:m})}),E)throw b;return await (0,w.I)(M,N,new Response(null,{status:500})),null}}},41327:()=>{},44870:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},49575:()=>{},55249:(a,b,c)=>{"use strict";c.d(b,{_:()=>f});var d=c(64415),e=c(36930);let f=(0,d.w)({server:{OPENAI_API_KEY:e.Yj().min(1),ANTHROPIC_API_KEY:e.Yj().min(1),SUPABASE_URL:e.Yj().url(),SUPABASE_SERVICE_ROLE:e.Yj().min(1)},client:{NEXT_PUBLIC_SUPABASE_URL:e.Yj().url(),NEXT_PUBLIC_SUPABASE_ANON_KEY:e.Yj().min(1),NEXT_PUBLIC_APP_NAME:e.Yj().min(1).default("App")},experimental__runtimeEnv:{NEXT_PUBLIC_SUPABASE_URL:"http://127.0.0.1:54321",NEXT_PUBLIC_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0",NEXT_PUBLIC_APP_NAME:"App"}})},55591:a=>{"use strict";a.exports=require("https")},57099:(a,b,c)=>{"use strict";c.d(b,{Bb:()=>i,IU:()=>k,S2:()=>h,ZJ:()=>j});var d=c(47833),e=c(8343),f=c(44880),g=c(55249);function h(){return(0,d.UU)(g._.SUPABASE_URL,g._.SUPABASE_SERVICE_ROLE,{auth:{persistSession:!1}})}function i(a){let b=(a.headers.get("cookie")??"").split(/;\s*/).find(a=>a.startsWith("sb-access-token="));if(b)return decodeURIComponent(b.split("=")[1]??"")}async function j(a){if(!a)return null;let b=h(),{data:c,error:d}=await b.auth.getUser(a);return d?null:c.user??null}async function k(){let a=await (0,f.UL)();return(0,e.createServerClient)("http://127.0.0.1:54321","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0",{cookies:{get:b=>a.get(b)?.value,set(b,c,d){a.set({name:b,value:c,...d})},remove(b,c){a.set({name:b,value:"",...c})}}})}},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:a=>{"use strict";a.exports=require("zlib")},79551:a=>{"use strict";a.exports=require("url")},81630:a=>{"use strict";a.exports=require("http")},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")}};var b=require("../../../../webpack-runtime.js");b.C(a);var c=b.X(0,[732,944],()=>b(b.s=30423));module.exports=c})();